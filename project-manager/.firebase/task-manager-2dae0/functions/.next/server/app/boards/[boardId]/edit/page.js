(()=>{var e={};e.id=469,e.ids=[469],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7950:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(60687),a=r(90687);function o({children:e}){return(0,s.jsx)(a.H,{children:e})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14985:e=>{"use strict";e.exports=require("dns")},15616:(e,t,r)=>{"use strict";r.d(t,{T:()=>o});var s=r(60687);r(43210);var a=r(96241);function o({className:e,...t}){return(0,s.jsx)("textarea",{"data-slot":"textarea",className:(0,a.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}},17924:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>l});var s=r(65239),a=r(48088),o=r(88170),i=r.n(o),n=r(30893),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(t,d);let l={children:["",{children:["boards",{children:["[boardId]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,31674)),"D:\\Workspace\\ProjectManager\\project-manager\\app\\boards\\[boardId]\\edit\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,34309)),"D:\\Workspace\\ProjectManager\\project-manager\\app\\boards\\[boardId]\\edit\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,46840)),"D:\\Workspace\\ProjectManager\\project-manager\\app\\boards\\[boardId]\\layout.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"D:\\Workspace\\ProjectManager\\project-manager\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["D:\\Workspace\\ProjectManager\\project-manager\\app\\boards\\[boardId]\\edit\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/boards/[boardId]/edit/page",pathname:"/boards/[boardId]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19272:(e,t,r)=>{Promise.resolve().then(r.bind(r,47031))},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},28997:(e,t,r)=>{Promise.resolve().then(r.bind(r,46840))},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31674:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,generateStaticParams:()=>o});var s=r(37413),a=r(47031);async function o(){return[]}function i(){return(0,s.jsx)(a.default,{})}},33873:e=>{"use strict";e.exports=require("path")},34309:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(37413);function a({children:e}){return(0,s.jsx)(s.Fragment,{children:e})}},34631:e=>{"use strict";e.exports=require("tls")},37826:(e,t,r)=>{"use strict";r.d(t,{Cf:()=>u,L3:()=>x,c7:()=>m,lG:()=>n,zM:()=>d});var s=r(60687);r(43210);var a=r(26134),o=r(11860),i=r(96241);function n({...e}){return(0,s.jsx)(a.bL,{"data-slot":"dialog",...e})}function d({...e}){return(0,s.jsx)(a.l9,{"data-slot":"dialog-trigger",...e})}function l({...e}){return(0,s.jsx)(a.ZL,{"data-slot":"dialog-portal",...e})}function c({className:e,...t}){return(0,s.jsx)(a.hJ,{"data-slot":"dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function u({className:e,children:t,showCloseButton:r=!0,...n}){return(0,s.jsxs)(l,{"data-slot":"dialog-portal",children:[(0,s.jsx)(c,{}),(0,s.jsxs)(a.UC,{"data-slot":"dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,r&&(0,s.jsxs)(a.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(o.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function m({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function x({className:e,...t}){return(0,s.jsx)(a.hE,{"data-slot":"dialog-title",className:(0,i.cn)("text-lg leading-none font-semibold",e),...t})}},42149:(e,t,r)=>{Promise.resolve().then(r.bind(r,7950))},46840:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Workspace\\\\ProjectManager\\\\project-manager\\\\app\\\\boards\\\\[boardId]\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Workspace\\ProjectManager\\project-manager\\app\\boards\\[boardId]\\layout.tsx","default")},47031:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Workspace\\\\ProjectManager\\\\project-manager\\\\app\\\\boards\\\\[boardId]\\\\edit\\\\EditBoardClientPage.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Workspace\\ProjectManager\\project-manager\\app\\boards\\[boardId]\\edit\\EditBoardClientPage.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66709:(e,t,r)=>{"use strict";r.d(t,{default:()=>q});var s=r(60687),a=r(43210),o=r(16189),i=r(75535),n=r(80043),d=r(63772),l=r(24934),c=r(68988),u=r(15616),m=r(55192),x=r(5523),p=r(6006),h=r(28559),b=r(84027),g=r(56085),f=r(98971),j=r(96474),v=r(63143),y=r(96362),N=r(8819),w=r(85814),k=r.n(w),C=r(39390),P=r(37826);let{db:S}=(0,n.M)(),q=()=>{let e=(0,o.useParams)(),t=(0,o.useRouter)(),{boardId:r}=e,{user:n}=(0,d.A)(),[w,q]=(0,a.useState)(null),[A,$]=(0,a.useState)(""),[D,E]=(0,a.useState)(""),[_,z]=(0,a.useState)(!0),[M,I]=(0,a.useState)(null),[F,B]=(0,a.useState)(!1),[R,J]=(0,a.useState)([]),[W,G]=(0,a.useState)(null),[T,H]=(0,a.useState)(""),[L,O]=(0,a.useState)("from-gray-500 to-gray-600"),[U,Z]=(0,a.useState)(""),[Q,Y]=(0,a.useState)("from-gray-500 to-gray-600"),[K,X]=(0,a.useState)(!1),[V,ee]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{if(r)try{let e=(0,i.H9)(S,"boards",r),t=await (0,i.x7)(e);if(t.exists()){let e={id:t.id,...t.data()};q(e),$(e.name),E(e.description||""),J(e.customStatuses||[])}else I("Board not found.")}catch(e){I("Failed to fetch board data."),console.error(e)}z(!1)})()},[r]);let et=async e=>{if(e.preventDefault(),!n||w&&n.uid!==w.owner)return void I("You do not have permission to edit this board.");B(!0),I(null);try{let e=(0,i.H9)(S,"boards",r);await (0,i.mZ)(e,{name:A,description:D,customStatuses:R.length>0?R:null}),t.push(`/boards/${r}`)}catch(e){I("Failed to update board. Please try again."),console.error(e)}finally{B(!1)}},er=e=>{G(e),Z(e.name),Y(e.color),ee(e.id)},es=()=>{W&&U.trim()&&(J(R.map(e=>e.id===W.id?{...e,name:U.trim(),color:Q}:e)),G(null),Z(""),Y("from-gray-500 to-gray-600"),ee(null))},ea=e=>{J(R.filter(t=>t.id!==e))},eo=()=>{G(null),Z(""),Y("from-gray-500 to-gray-600"),ee(null)},ei=["from-gray-500 to-gray-600","from-red-500 to-red-600","from-orange-500 to-orange-600","from-yellow-500 to-yellow-600","from-green-500 to-green-600","from-teal-500 to-teal-600","from-blue-500 to-blue-600","from-indigo-500 to-indigo-600","from-purple-500 to-purple-600","from-pink-500 to-pink-600"];return(0,s.jsx)(p.q,{children:_?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):M&&!w?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:(0,s.jsxs)(m.Zp,{className:"backdrop-blur-sm bg-white/70 border-0 shadow-lg p-8 text-center",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:M}),(0,s.jsx)(l.$,{asChild:!0,children:(0,s.jsx)(k(),{href:"/dashboard",children:"Back to Dashboard"})})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[(0,s.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,s.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/10 to-purple-600/10 rounded-full blur-3xl"}),(0,s.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-br from-indigo-400/10 to-pink-600/10 rounded-full blur-3xl"}),(0,s.jsx)("div",{className:"absolute top-1/2 left-1/2 w-96 h-96 bg-gradient-to-br from-cyan-400/5 to-blue-600/5 rounded-full blur-3xl transform -translate-x-1/2 -translate-y-1/2"})]}),(0,s.jsx)(x.Y,{}),(0,s.jsxs)("div",{className:"relative container mx-auto px-4 py-8",children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsx)(l.$,{asChild:!0,variant:"ghost",className:"mb-6 text-gray-600 hover:text-gray-900 hover:bg-white/50",children:(0,s.jsxs)(k(),{href:`/boards/${r}`,className:"flex items-center gap-2",children:[(0,s.jsx)(h.A,{className:"w-4 h-4"}),"Back to ",w?.name||"Board"]})})}),(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:(0,s.jsx)(b.A,{className:"w-8 h-8 text-white"})}),(0,s.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-600 bg-clip-text text-transparent mb-2",children:"Edit Board"}),(0,s.jsx)("p",{className:"text-gray-600 text-lg",children:"Update your board details and settings"})]}),(0,s.jsxs)(m.Zp,{className:"backdrop-blur-sm bg-white/70 border-0 shadow-xl overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/40 to-white/10"}),(0,s.jsx)(m.aR,{className:"relative text-center pb-6",children:(0,s.jsxs)(m.ZB,{className:"text-xl font-semibold text-gray-900 flex items-center justify-center gap-2",children:[(0,s.jsx)(g.A,{className:"w-5 h-5 text-blue-600"}),"Board Settings"]})}),(0,s.jsx)(m.Wu,{className:"relative p-8 pt-0",children:(0,s.jsxs)("form",{onSubmit:et,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(C.J,{htmlFor:"name",className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,s.jsx)(b.A,{className:"w-4 h-4"}),"Board Name"]}),(0,s.jsx)(c.p,{id:"name",value:A,onChange:e=>$(e.target.value),placeholder:"Enter your board name...",required:!0,className:"h-12 backdrop-blur-sm bg-white/50 border-white/20 focus:bg-white/70 transition-all duration-200",disabled:F})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(C.J,{htmlFor:"description",className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,s.jsx)(g.A,{className:"w-4 h-4"}),"Description (Optional)"]}),(0,s.jsx)(u.T,{id:"description",value:D,onChange:e=>E(e.target.value),placeholder:"Describe your board and its purpose...",rows:4,className:"backdrop-blur-sm bg-white/50 border-white/20 focus:bg-white/70 transition-all duration-200 resize-none",disabled:F})]}),(0,s.jsxs)("div",{className:"space-y-4 pt-6 border-t border-gray-200/60",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(C.J,{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,s.jsx)(f.A,{className:"w-4 h-4"}),"Custom Status Options"]}),(0,s.jsxs)(P.lG,{open:K,onOpenChange:X,children:[(0,s.jsx)(P.zM,{asChild:!0,children:(0,s.jsxs)(l.$,{type:"button",variant:"outline",size:"sm",className:"backdrop-blur-sm bg-white/50 border-white/20 hover:bg-white/70",children:[(0,s.jsx)(j.A,{className:"w-3 h-3 mr-1"}),"Add Status"]})}),(0,s.jsxs)(P.Cf,{className:"backdrop-blur-sm bg-white/95",children:[(0,s.jsx)(P.c7,{children:(0,s.jsx)(P.L3,{children:"Add New Status"})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(C.J,{htmlFor:"statusName",children:"Status Name"}),(0,s.jsx)(c.p,{id:"statusName",value:T,onChange:e=>H(e.target.value),placeholder:"Enter status name..."})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(C.J,{children:"Color"}),(0,s.jsx)("div",{className:"grid grid-cols-5 gap-2",children:ei.map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>O(e),className:`w-10 h-10 bg-gradient-to-br ${e} rounded-lg border-2 transition-all ${L===e?"border-gray-900 scale-110":"border-gray-200 hover:scale-105"}`},e))})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(l.$,{type:"button",variant:"ghost",onClick:()=>{H(""),O("from-gray-500 to-gray-600"),X(!1)},children:"Cancel"}),(0,s.jsx)(l.$,{type:"button",onClick:()=>{if(!T.trim())return;let e={id:`custom-${Date.now()}`,name:T.trim(),color:L,order:R.length};J([...R,e]),H(""),O("from-gray-500 to-gray-600"),X(!1)},disabled:!T.trim(),children:"Add Status"})]})]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[0===R.length&&(0,s.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-600",children:"Default Statuses"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:[{id:"todo",name:"To Do",color:"from-yellow-500 to-orange-600"},{id:"in-progress",name:"In Progress",color:"from-blue-500 to-cyan-600"},{id:"done",name:"Done",color:"from-green-500 to-emerald-600"}].map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/40 border border-gray-200/40",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:`w-6 h-6 bg-gradient-to-br ${e.color} rounded-lg`}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.name})]}),(0,s.jsx)("span",{className:"text-xs text-gray-500",children:"Default"})]},e.id))})]}),R.length>0?(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-600",children:"Custom Statuses"}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:R.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white/60 border border-gray-200/60",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:`w-6 h-6 bg-gradient-to-br ${e.color} rounded-lg`}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.name})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsxs)(P.lG,{open:V===e.id,onOpenChange:t=>ee(t?e.id:null),children:[(0,s.jsx)(P.zM,{asChild:!0,children:(0,s.jsx)(l.$,{type:"button",variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>er(e),children:(0,s.jsx)(v.A,{className:"h-3 w-3"})})}),(0,s.jsxs)(P.Cf,{className:"backdrop-blur-sm bg-white/95",children:[(0,s.jsx)(P.c7,{children:(0,s.jsx)(P.L3,{children:"Edit Status"})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(C.J,{htmlFor:"editStatusName",children:"Status Name"}),(0,s.jsx)(c.p,{id:"editStatusName",value:U,onChange:e=>Z(e.target.value),placeholder:"Enter status name"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(C.J,{children:"Color"}),(0,s.jsx)("div",{className:"grid grid-cols-5 gap-2",children:ei.map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>Y(e),className:`w-10 h-10 bg-gradient-to-br ${e} rounded-lg border-2 transition-all ${Q===e?"border-gray-900 scale-110":"border-gray-200 hover:scale-105"}`},e))})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(l.$,{type:"button",variant:"ghost",onClick:eo,children:"Cancel"}),(0,s.jsx)(l.$,{type:"button",onClick:es,disabled:!U.trim(),children:"Update Status"})]})]})]})]}),(0,s.jsx)(l.$,{type:"button",variant:"ghost",size:"icon",className:"h-6 w-6 text-red-500 hover:text-red-700",onClick:()=>ea(e.id),children:(0,s.jsx)(y.A,{className:"h-3 w-3"})})]})]},e.id))})]}):(0,s.jsxs)("div",{className:"text-center py-4 text-gray-500 bg-gray-50/50 rounded-lg border border-dashed border-gray-300",children:[(0,s.jsx)(j.A,{className:"w-6 h-6 mx-auto mb-2 opacity-50"}),(0,s.jsx)("p",{className:"text-sm",children:"No custom statuses yet"}),(0,s.jsx)("p",{className:"text-xs",children:"Click Add Status to create custom workflow states"})]})]}),(0,s.jsx)("div",{className:"p-3 rounded-lg bg-blue-50/60 border border-blue-200/60",children:(0,s.jsxs)("p",{className:"text-xs text-blue-700",children:[(0,s.jsx)("strong",{children:"Note:"})," The default statuses To Do, In Progress, and Done will always be available alongside your custom statuses."]})})]}),M&&(0,s.jsx)("div",{className:"p-4 rounded-lg bg-red-50 border border-red-200",children:(0,s.jsx)("p",{className:"text-red-600 text-sm",children:M})}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,s.jsx)(l.$,{type:"submit",disabled:F||!A.trim(),className:"flex-1 h-12 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transition-all duration-200 disabled:opacity-50",children:F?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Updating..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(N.A,{className:"w-4 h-4 mr-2"}),"Update Board"]})}),(0,s.jsx)(l.$,{type:"button",variant:"outline",asChild:!0,className:"backdrop-blur-sm bg-white/50 border-white/20 hover:bg-white/70 transition-all duration-200",disabled:F,children:(0,s.jsx)(k(),{href:`/boards/${r}`,children:"Cancel"})})]})]})})]}),(0,s.jsx)("div",{className:"text-center mt-8",children:(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Changes will be visible to all board members immediately."})})]})]})]})})}},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},78335:()=>{},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},82824:(e,t,r)=>{Promise.resolve().then(r.bind(r,66709))},90687:(e,t,r)=>{"use strict";r.d(t,{H:()=>m,t:()=>x});var s=r(60687),a=r(43210),o=r(75535),i=r(80043),n=r(63772),d=r(16189),l=r(52581);let{db:c}=(0,i.M)(),u=(0,a.createContext)(void 0),m=({children:e})=>{let{user:t}=(0,n.A)(),r=(0,d.useParams)().boardId,[i,m]=(0,a.useState)(null),[x,p]=(0,a.useState)([]),[h,b]=(0,a.useState)({}),[g,f]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{if(!t||!r)return void f(!1);f(!0);let e=[],s=(0,o.aQ)((0,o.H9)(c,"boards",r),e=>{e.exists()?m({id:e.id,...e.data()}):(m(null),l.oR.error("Board not found.")),f(!1)},e=>{console.error("Firestore board listener error:",e),l.oR.error("Failed to load board.",{description:"You may not have permission to view this board."}),m(null),f(!1)});e.push(s);let a=(0,o.P)((0,o.rJ)(c,"boards",r,"tasks")),i=(0,o.aQ)(a,e=>{p(e.docs.map(e=>({id:e.id,...e.data()})))},e=>{console.error("Firestore tasks listener error:",e),l.oR.error("Failed to load tasks for this board."),p([])});return e.push(i),()=>e.forEach(e=>e())},[t,r]),(0,a.useEffect)(()=>{if(0===x.length)return;let e=[];return b({}),x.forEach(t=>{let s=(0,o.P)((0,o.rJ)(c,"boards",r,"tasks",t.id,"subtasks")),a=(0,o.aQ)(s,e=>{let r=e.docs.map(e=>({id:e.id,...e.data()}));b(e=>({...e,[t.id]:r}))},e=>{console.error(`Firestore subtasks listener error for task ${t.id}:`,e),l.oR.error(`Failed to load subtasks for task: ${t.title}`)});e.push(a)}),()=>e.forEach(e=>e())},[x,r]),(0,s.jsx)(u.Provider,{value:{board:i,tasks:x,subtasks:h,loading:g},children:e})},x=()=>{let e=(0,a.useContext)(u);if(void 0===e)throw Error("useRealtimeData must be used within a RealtimeDataProvider");return e}},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96487:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,142,658,67,42,161,148,128],()=>r(17924));module.exports=s})();