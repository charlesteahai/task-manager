(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{968:(e,t,a)=>{"use strict";a.d(t,{b:()=>o});var s=a(2115),r=a(3655),n=a(5155),i=s.forwardRef((e,t)=>(0,n.jsx)(r.sG.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var o=i},1414:(e,t,a)=>{"use strict";e.exports=a(2436)},2436:(e,t,a)=>{"use strict";var s=a(2115),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=s.useState,i=s.useEffect,o=s.useLayoutEffect,l=s.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!r(e,a)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var a=t(),s=n({inst:{value:a,getSnapshot:t}}),r=s[0].inst,c=s[1];return o(function(){r.value=a,r.getSnapshot=t,d(r)&&c({inst:r})},[e,a,t]),i(function(){return d(r)&&c({inst:r}),e(function(){d(r)&&c({inst:r})})},[e]),l(a),a};t.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:c},2712:(e,t,a)=>{"use strict";a.d(t,{N:()=>r});var s=a(2115),r=globalThis?.document?s.useLayoutEffect:()=>{}},2714:(e,t,a)=>{"use strict";a.d(t,{J:()=>i});var s=a(5155);a(2115);var r=a(968),n=a(3999);function i(e){let{className:t,...a}=e;return(0,s.jsx)(r.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}},2986:(e,t,a)=>{"use strict";a.d(t,{s:()=>o});var s=a(2115),r=a(5317),n=a(8794);let{db:i}=(0,a(8915).M)(),o=()=>{let{user:e}=(0,n.A)(),[t,a]=(0,s.useState)(null),[o,l]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{if(!e){a(null),l(!1);return}let t={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL},s=(0,r.H9)(i,"users",e.uid),n=(0,r.aQ)(s,e=>{if(e.exists()){let s=e.data();a({...t,displayName:s.displayName||t.displayName,photoURL:s.photoURL||t.photoURL,hasCustomPhoto:s.hasCustomPhoto||!1,photoUpdatedAt:s.photoUpdatedAt})}else a(t);l(!1)},e=>{console.error("Error fetching user profile:",e),a(t),l(!1)});return()=>n()},[e]),{userProfile:t,loading:o}}},3659:(e,t,a)=>{Promise.resolve().then(a.bind(a,7437))},3999:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var s=a(2596),r=a(9688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}},4011:(e,t,a)=>{"use strict";a.d(t,{H4:()=>S,_V:()=>j,bL:()=>N});var s=a(2115),r=a(6081),n=a(9033),i=a(2712),o=a(3655),l=a(1414);function d(){return()=>{}}var c=a(5155),u="Avatar",[m,p]=(0,r.A)(u),[h,f]=m(u),g=s.forwardRef((e,t)=>{let{__scopeAvatar:a,...r}=e,[n,i]=s.useState("idle");return(0,c.jsx)(h,{scope:a,imageLoadingStatus:n,onImageLoadingStatusChange:i,children:(0,c.jsx)(o.sG.span,{...r,ref:t})})});g.displayName=u;var x="AvatarImage",v=s.forwardRef((e,t)=>{let{__scopeAvatar:a,src:r,onLoadingStatusChange:u=()=>{},...m}=e,p=f(x,a),h=function(e,t){let{referrerPolicy:a,crossOrigin:r}=t,n=(0,l.useSyncExternalStore)(d,()=>!0,()=>!1),o=s.useRef(null),c=n?(o.current||(o.current=new window.Image),o.current):null,[u,m]=s.useState(()=>w(c,e));return(0,i.N)(()=>{m(w(c,e))},[c,e]),(0,i.N)(()=>{let e=e=>()=>{m(e)};if(!c)return;let t=e("loaded"),s=e("error");return c.addEventListener("load",t),c.addEventListener("error",s),a&&(c.referrerPolicy=a),"string"==typeof r&&(c.crossOrigin=r),()=>{c.removeEventListener("load",t),c.removeEventListener("error",s)}},[c,r,a]),u}(r,m),g=(0,n.c)(e=>{u(e),p.onImageLoadingStatusChange(e)});return(0,i.N)(()=>{"idle"!==h&&g(h)},[h,g]),"loaded"===h?(0,c.jsx)(o.sG.img,{...m,ref:t,src:r}):null});v.displayName=x;var y="AvatarFallback",b=s.forwardRef((e,t)=>{let{__scopeAvatar:a,delayMs:r,...n}=e,i=f(y,a),[l,d]=s.useState(void 0===r);return s.useEffect(()=>{if(void 0!==r){let e=window.setTimeout(()=>d(!0),r);return()=>window.clearTimeout(e)}},[r]),l&&"loaded"!==i.imageLoadingStatus?(0,c.jsx)(o.sG.span,{...n,ref:t}):null});function w(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}b.displayName=y;var N=g,j=v,S=b},4229:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},6081:(e,t,a)=>{"use strict";a.d(t,{A:()=>i,q:()=>n});var s=a(2115),r=a(5155);function n(e,t){let a=s.createContext(t),n=e=>{let{children:t,...n}=e,i=s.useMemo(()=>n,Object.values(n));return(0,r.jsx)(a.Provider,{value:i,children:t})};return n.displayName=e+"Provider",[n,function(r){let n=s.useContext(a);if(n)return n;if(void 0!==t)return t;throw Error(`\`${r}\` must be used within \`${e}\``)}]}function i(e,t=[]){let a=[],n=()=>{let t=a.map(e=>s.createContext(e));return function(a){let r=a?.[e]||t;return s.useMemo(()=>({[`__scope${e}`]:{...a,[e]:r}}),[a,r])}};return n.scopeName=e,[function(t,n){let i=s.createContext(n),o=a.length;a=[...a,n];let l=t=>{let{scope:a,children:n,...l}=t,d=a?.[e]?.[o]||i,c=s.useMemo(()=>l,Object.values(l));return(0,r.jsx)(d.Provider,{value:c,children:n})};return l.displayName=t+"Provider",[l,function(a,r){let l=r?.[e]?.[o]||i,d=s.useContext(l);if(d)return d;if(void 0!==n)return n;throw Error(`\`${a}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let a=()=>{let a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=a.reduce((t,{useScope:a,scopeName:s})=>{let r=a(e)[`__scope${s}`];return{...t,...r}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return a.scopeName=t.scopeName,a}(n,...t)]}},7168:(e,t,a)=>{"use strict";a.d(t,{$:()=>l,r:()=>o});var s=a(5155);a(2115);var r=a(9708),n=a(2085),i=a(3999);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:a,size:n,asChild:l=!1,...d}=e,c=l?r.DX:"button";return(0,s.jsx)(c,{"data-slot":"button",className:(0,i.cn)(o({variant:a,size:n,className:t})),...d})}},7437:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S});var s=a(5155),r=a(2115),n=a(8794),i=a(2986),o=a(7168),l=a(9852),d=a(2714),c=a(8482),u=a(9663),m=a(7550);let p=(0,a(9946).A)("camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var h=a(4229),f=a(6671),g=a(6203),x=a(858),v=a(5317),y=a(8915),b=a(6874),w=a.n(b);let{storage:N,db:j}=(0,y.M)();function S(){var e;let{user:t,handleAuthError:a,refreshUser:y}=(0,n.A)(),{userProfile:b}=(0,i.s)(),[S,k]=(0,r.useState)(!1),[R,P]=(0,r.useState)(""),[A,U]=(0,r.useState)(""),[L,C]=(0,r.useState)(""),[E,D]=(0,r.useState)(""),[I,T]=(0,r.useState)(!1),_=(0,r.useRef)(null),B=async()=>{if(t){k(!0);try{await (0,g.r7)(t,{displayName:R.trim()});let e=(0,v.H9)(j,"users",t.uid);await (0,v.mZ)(e,{displayName:R.trim()}),f.oR.success("Display name updated successfully!"),y()}catch(e){a(e,"update-display-name")}finally{k(!1)}}},M=async()=>{if(t&&t.email){if(L!==E)return void f.oR.error("New passwords don't match");if(L.length<6)return void f.oR.error("Password must be at least 6 characters long");if(!A)return void f.oR.error("Please enter your current password");k(!0);try{let e=g.IX.credential(t.email,A);await (0,g.kZ)(t,e),await (0,g.f3)(t,L),U(""),C(""),D(""),f.oR.success("Password updated successfully!")}catch(e){a(e,"change-password")}finally{k(!1)}}},F=async e=>{var s;let r=null==(s=e.target.files)?void 0:s[0];if(r&&t){if(!r.type.startsWith("image/"))return void f.oR.error("Please select an image file");if(r.size>5242880)return void f.oR.error("Image size must be less than 5MB");T(!0);try{try{let e=Date.now(),a=r.name.split(".").pop()||"jpg",s="".concat(e,".").concat(a),n=(0,x.KR)(N,"profile-pictures/".concat(t.uid,"/").concat(s)),i={contentType:r.type,customMetadata:{uploadedBy:t.uid,uploadedAt:e.toString()}};console.log("Starting Firebase Storage upload...",{path:"profile-pictures/".concat(t.uid,"/").concat(s),size:r.size});let o=(0,x.bp)(n,r,i);await new Promise((e,t)=>{o.on("state_changed",e=>{let t=e.bytesTransferred/e.totalBytes*100;console.log("Upload is "+t+"% done")},e=>{console.error("Firebase Storage upload failed:",e),t(e)},()=>{console.log("Firebase Storage upload completed successfully"),e(o.snapshot)})});let l=await (0,x.qk)(o.snapshot.ref);console.log("Download URL obtained:",l),await (0,g.r7)(t,{photoURL:l});let d=(0,v.H9)(j,"users",t.uid);await (0,v.mZ)(d,{photoURL:l,photoUpdatedAt:Date.now(),hasCustomPhoto:!0,storageType:"firebase-storage"}),f.oR.success("Profile picture updated successfully using Firebase Storage!"),y()}catch(s){if(console.warn("Firebase Storage failed, falling back to base64:",s),r.size>1048576)return void f.oR.error("Firebase Storage not available. Please use images under 1MB or set up Firebase Storage.");let e=await new Promise((e,t)=>{let a=new FileReader;a.onload=()=>e(a.result),a.onerror=t,a.readAsDataURL(r)});console.log("Using base64 fallback, size:",e.length);let a=(0,v.H9)(j,"users",t.uid);await (0,v.mZ)(a,{photoURL:e,photoUpdatedAt:Date.now(),hasCustomPhoto:!0,storageType:"base64"}),await (0,g.r7)(t,{photoURL:null}),f.oR.success("Profile picture updated using fallback storage. Consider setting up Firebase Storage for better performance."),y()}}catch(e){console.error("Upload error:",e),e instanceof Error?f.oR.error("Upload failed: ".concat(e.message)):a(e,"upload-profile-picture")}finally{T(!1)}}};return((0,r.useEffect)(()=>{(null==b?void 0:b.displayName)!==void 0&&P(b.displayName||"")},[null==b?void 0:b.displayName]),t)?(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto px-4",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)(w(),{href:"/dashboard",className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900 mb-4",children:[(0,s.jsx)(m.A,{className:"h-4 w-4 mr-1"}),"Back to Dashboard"]}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Profile Settings"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage your account settings and preferences"})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(c.Zp,{children:[(0,s.jsxs)(c.aR,{children:[(0,s.jsx)(c.ZB,{children:"Profile Picture"}),(0,s.jsxs)(c.BT,{children:["Upload a new profile picture. Supported formats: JPG, PNG, GIF (max 5MB)",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"text-blue-600 text-sm",children:"Automatically uses Firebase Storage when available, falls back to compressed storage otherwise."})]})]}),(0,s.jsxs)(c.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)(u.eu,{className:"h-20 w-20",children:[(0,s.jsx)(u.BK,{src:(null==b?void 0:b.photoURL)||t.photoURL||void 0}),(0,s.jsx)(u.q5,{className:"text-lg",children:(null==b?void 0:b.displayName)?b.displayName.charAt(0):t.displayName?t.displayName.charAt(0):null==(e=t.email)?void 0:e.charAt(0)})]}),(0,s.jsx)(o.$,{size:"sm",variant:"secondary",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full p-0",onClick:()=>{var e;null==(e=_.current)||e.click()},disabled:I,children:(0,s.jsx)(p,{className:"h-4 w-4"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:(null==b?void 0:b.displayName)||t.displayName||"No display name"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:t.email})]})]}),(0,s.jsx)("input",{ref:_,type:"file",accept:"image/*",onChange:F,className:"hidden"}),I&&(0,s.jsx)("p",{className:"text-sm text-blue-600",children:"Uploading image..."})]})]}),(0,s.jsxs)(c.Zp,{children:[(0,s.jsxs)(c.aR,{children:[(0,s.jsx)(c.ZB,{children:"Display Name"}),(0,s.jsx)(c.BT,{children:"This is the name that will be displayed to other users"})]}),(0,s.jsxs)(c.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(d.J,{htmlFor:"displayName",children:"Display Name"}),(0,s.jsx)(l.p,{id:"displayName",value:R,onChange:e=>P(e.target.value),placeholder:"Enter your display name",className:"mt-1"})]}),(0,s.jsxs)(o.$,{onClick:B,disabled:S||R.trim()===((null==b?void 0:b.displayName)||t.displayName||""),className:"w-full sm:w-auto",children:[(0,s.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Update Display Name"]})]})]}),(0,s.jsxs)(c.Zp,{children:[(0,s.jsxs)(c.aR,{children:[(0,s.jsx)(c.ZB,{children:"Change Password"}),(0,s.jsx)(c.BT,{children:"Update your password to keep your account secure"})]}),(0,s.jsxs)(c.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(d.J,{htmlFor:"currentPassword",children:"Current Password"}),(0,s.jsx)(l.p,{id:"currentPassword",type:"password",value:A,onChange:e=>U(e.target.value),placeholder:"Enter your current password",className:"mt-1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.J,{htmlFor:"newPassword",children:"New Password"}),(0,s.jsx)(l.p,{id:"newPassword",type:"password",value:L,onChange:e=>C(e.target.value),placeholder:"Enter new password (min 6 characters)",className:"mt-1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.J,{htmlFor:"confirmPassword",children:"Confirm New Password"}),(0,s.jsx)(l.p,{id:"confirmPassword",type:"password",value:E,onChange:e=>D(e.target.value),placeholder:"Confirm new password",className:"mt-1"})]}),(0,s.jsxs)(o.$,{onClick:M,disabled:S||!A||!L||!E||L!==E,className:"w-full sm:w-auto",children:[(0,s.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Update Password"]})]})]}),(0,s.jsxs)(c.Zp,{children:[(0,s.jsxs)(c.aR,{children:[(0,s.jsx)(c.ZB,{children:"Account Information"}),(0,s.jsx)(c.BT,{children:"Your basic account details"})]}),(0,s.jsx)(c.Wu,{className:"space-y-3",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(d.J,{className:"text-sm font-medium text-gray-700",children:"Email"}),(0,s.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:t.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.J,{className:"text-sm font-medium text-gray-700",children:"User ID"}),(0,s.jsx)("p",{className:"text-sm text-gray-900 mt-1 font-mono text-xs",children:t.uid})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.J,{className:"text-sm font-medium text-gray-700",children:"Account Created"}),(0,s.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:t.metadata.creationTime?new Date(t.metadata.creationTime).toLocaleDateString():"Unknown"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.J,{className:"text-sm font-medium text-gray-700",children:"Last Sign In"}),(0,s.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:t.metadata.lastSignInTime?new Date(t.metadata.lastSignInTime).toLocaleDateString():"Unknown"})]})]})})]})]})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"You need to be logged in to access this page."}),(0,s.jsx)(w(),{href:"/login",className:"text-blue-600 hover:text-blue-800",children:"Go to Login"})]})})}},7550:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8482:(e,t,a)=>{"use strict";a.d(t,{BT:()=>l,Wu:()=>d,ZB:()=>o,Zp:()=>n,aR:()=>i});var s=a(5155);a(2115);var r=a(3999);function n(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function i(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function o(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",t),...a})}function l(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...a})}function d(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",t),...a})}},8794:(e,t,a)=>{"use strict";a.d(t,{A:()=>f,AuthProvider:()=>h});var s=a(5155),r=a(2115),n=a(6203),i=a(8915),o=a(5317),l=a(6671),d=a(5695),c=a(3915);let u=(0,r.createContext)({user:null,loading:!0,signUp:async()=>{},signIn:async()=>{},signInWithGoogle:async()=>{},signOut:async()=>{},handleAuthError:()=>{},refreshUser:()=>{},notifications:[],setNotifications:()=>{}}),{auth:m,db:p}=(0,i.M)(),h=e=>{let{children:t}=e,[a,i]=(0,r.useState)(null),[h,f]=(0,r.useState)(!0),g=(0,d.useRouter)(),[x,v]=(0,r.useState)([]),y=async e=>{try{let t=(0,o.H9)(p,"users",e.uid);await (0,o.BN)(t,{uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL},{merge:!0})}catch(e){console.error("Error creating user document:",e)}},b=(e,t)=>{console.error("Auth error during ".concat(t,":"),e);let a="An unexpected error occurred. Please try again.";if(e instanceof c.g)switch(e.code){case"auth/email-already-in-use":a="This email is already in use. Please use a different email or log in.";break;case"auth/user-not-found":case"auth/wrong-password":a="Invalid email or password. Please try again.";break;case"auth/invalid-email":a="The email address is not valid.";break;case"auth/user-disabled":a="This user account has been disabled.";break;case"auth/too-many-requests":a="Too many attempts. Please try again later.";break;case"auth/popup-closed-by-user":a="The sign-in popup was closed before completion.";break;default:a=e.message}l.oR.error("Authentication Failed",{description:a})},w=async(e,t)=>{try{let a=await (0,n.eJ)(m,e,t);return a.user&&(y(a.user),l.oR.success("Account created successfully!"),g.push("/dashboard")),a}catch(e){b(e,"sign-up")}},N=async(e,t)=>{try{let a=await (0,n.x9)(m,e,t);return a.user&&(l.oR.success("Signed in successfully!"),g.push("/dashboard")),a}catch(e){b(e,"sign-in")}},j=async()=>{try{let e=new n.HF,t=await (0,n.df)(m,e);return t.user&&(y(t.user),l.oR.success("Signed in successfully!"),g.push("/dashboard")),t}catch(e){b(e,"sign-in-with-google")}},S=async()=>{try{await (0,n.CI)(m),i(null),g.push("/login")}catch(e){console.error("Error signing out: ",e),b(e,"sign-out")}};return(0,r.useEffect)(()=>{let e=(0,n.hg)(m,e=>{i(e),f(!1)});return()=>e()},[]),(0,s.jsx)(u.Provider,{value:{user:a,loading:h,signUp:w,signIn:N,signInWithGoogle:j,signOut:S,handleAuthError:b,refreshUser:()=>{m.currentUser&&m.currentUser.reload().then(()=>{i(m.currentUser)})},notifications:x,setNotifications:v},children:t})},f=()=>(0,r.useContext)(u)},8915:(e,t,a)=>{"use strict";a.d(t,{M:()=>d});var s=a(3915),r=a(6203),n=a(5317),i=a(1427),o=a(858);let l={apiKey:"AIzaSyDAzvB41J4jsrKvNAomLQD209_PqwNeC9I",authDomain:"task-manager-2dae0.firebaseapp.com",projectId:"task-manager-2dae0",storageBucket:"task-manager-2dae0.firebasestorage.app",messagingSenderId:"34619415429",appId:"1:34619415429:web:8d4105d1fcf3a9b60ac2ec"};function d(){let e=(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)(l),t=(0,r.xI)(e),a=(0,n.aU)(e),d=(0,i.Uz)(e),c=(0,o.c7)(e);return{app:e,auth:t,db:a,functions:d,storage:c}}},9033:(e,t,a)=>{"use strict";a.d(t,{c:()=>r});var s=a(2115);function r(e){let t=s.useRef(e);return s.useEffect(()=>{t.current=e}),s.useMemo(()=>(...e)=>t.current?.(...e),[])}},9663:(e,t,a)=>{"use strict";a.d(t,{BK:()=>l,eu:()=>o,q5:()=>d});var s=a(5155),r=a(2115),n=a(4011),i=a(3999);let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.bL,{ref:t,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});o.displayName=n.bL.displayName;let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n._V,{ref:t,className:(0,i.cn)("aspect-square h-full w-full",a),...r})});l.displayName=n._V.displayName;let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(n.H4,{ref:t,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});d.displayName=n.H4.displayName},9852:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});var s=a(5155);a(2115);var r=a(3999);function n(e){let{className:t,type:a,...n}=e;return(0,s.jsx)("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,965,496,395,441,684,358],()=>t(3659)),_N_E=e.O()}]);