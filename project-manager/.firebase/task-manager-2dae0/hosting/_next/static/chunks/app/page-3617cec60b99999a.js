(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1057:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>u});var r=a(5155),t=a(2115),n=a(5695),i=a(8794);function u(){let{user:e,loading:s}=(0,i.A)(),a=(0,n.useRouter)();return(0,t.useEffect)(()=>{s||(e?a.push("/dashboard"):a.push("/login"))},[e,s,a]),(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)("p",{children:"Loading..."})})}},7670:(e,s,a)=>{Promise.resolve().then(a.bind(a,1057))},8794:(e,s,a)=>{"use strict";a.d(s,{A:()=>f,AuthProvider:()=>p});var r=a(5155),t=a(2115),n=a(6203),i=a(8915),u=a(5317),c=a(6671),o=a(5695),l=a(3915);let d=(0,t.createContext)({user:null,loading:!0,signUp:async()=>{},signIn:async()=>{},signInWithGoogle:async()=>{},signOut:async()=>{},handleAuthError:()=>{},refreshUser:()=>{},notifications:[],setNotifications:()=>{}}),{auth:h,db:g}=(0,i.M)(),p=e=>{let{children:s}=e,[a,i]=(0,t.useState)(null),[p,f]=(0,t.useState)(!0),y=(0,o.useRouter)(),[m,b]=(0,t.useState)([]),w=async e=>{try{let s=(0,u.H9)(g,"users",e.uid);await (0,u.BN)(s,{uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL},{merge:!0})}catch(e){console.error("Error creating user document:",e)}},k=(e,s)=>{console.error("Auth error during ".concat(s,":"),e);let a="An unexpected error occurred. Please try again.";if(e instanceof l.g)switch(e.code){case"auth/email-already-in-use":a="This email is already in use. Please use a different email or log in.";break;case"auth/user-not-found":case"auth/wrong-password":a="Invalid email or password. Please try again.";break;case"auth/invalid-email":a="The email address is not valid.";break;case"auth/user-disabled":a="This user account has been disabled.";break;case"auth/too-many-requests":a="Too many attempts. Please try again later.";break;case"auth/popup-closed-by-user":a="The sign-in popup was closed before completion.";break;default:a=e.message}c.oR.error("Authentication Failed",{description:a})},v=async(e,s)=>{try{let a=await (0,n.eJ)(h,e,s);return a.user&&(w(a.user),c.oR.success("Account created successfully!"),y.push("/dashboard")),a}catch(e){k(e,"sign-up")}},A=async(e,s)=>{try{let a=await (0,n.x9)(h,e,s);return a.user&&(c.oR.success("Signed in successfully!"),y.push("/dashboard")),a}catch(e){k(e,"sign-in")}},x=async()=>{try{let e=new n.HF,s=await (0,n.df)(h,e);return s.user&&(w(s.user),c.oR.success("Signed in successfully!"),y.push("/dashboard")),s}catch(e){k(e,"sign-in-with-google")}},I=async()=>{try{await (0,n.CI)(h),i(null),y.push("/login")}catch(e){console.error("Error signing out: ",e),k(e,"sign-out")}};return(0,t.useEffect)(()=>{let e=(0,n.hg)(h,e=>{i(e),f(!1)});return()=>e()},[]),(0,r.jsx)(d.Provider,{value:{user:a,loading:p,signUp:v,signIn:A,signInWithGoogle:x,signOut:I,handleAuthError:k,refreshUser:()=>{h.currentUser&&h.currentUser.reload().then(()=>{i(h.currentUser)})},notifications:m,setNotifications:b},children:s})},f=()=>(0,t.useContext)(d)},8915:(e,s,a)=>{"use strict";a.d(s,{M:()=>o});var r=a(3915),t=a(6203),n=a(5317),i=a(1427),u=a(858);let c={apiKey:"AIzaSyDAzvB41J4jsrKvNAomLQD209_PqwNeC9I",authDomain:"task-manager-2dae0.firebaseapp.com",projectId:"task-manager-2dae0",storageBucket:"task-manager-2dae0.firebasestorage.app",messagingSenderId:"34619415429",appId:"1:34619415429:web:8d4105d1fcf3a9b60ac2ec"};function o(){let e=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)(c),s=(0,t.xI)(e),a=(0,n.aU)(e),o=(0,i.Uz)(e),l=(0,u.c7)(e);return{app:e,auth:s,db:a,functions:o,storage:l}}}},e=>{var s=s=>e(e.s=s);e.O(0,[992,965,496,441,684,358],()=>s(7670)),_N_E=e.O()}]);